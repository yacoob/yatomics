# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json
name: yaucore
description: ðŸ’™ ublue-os/ucore the way I like it
base-image: ghcr.io/ublue-os/ucore-minimal
image-version: stable

# NOTE: the order of the modules in this file translates to the order of RUN lines in generated Containerfile.
modules:
  - from-file: base/chezmoi.yaml
  - from-file: base/dnf.yaml
  - from-file: base/script.yaml
  - from-file: base/files.yaml

  - type: script
    scripts:
      - yaucore/ghostty-terminfo.sh

  # add repositories, install RPM packages
  - type: dnf
    repos:
      copr:
        - atim/starship
    install:
      install-weak-deps: false
      packages:
        # third party pkgs
        - starship
    remove:
      packages:
        - containerd
        - docker-cli
        - moby-engine
        - moby-filesystem

  # sign the image
  - type: signing
