# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json
name: yaucore
description: ðŸ’™ ublue-os/ucore the way I like it
base-image: ghcr.io/ublue-os/ucore-minimal
image-version: stable

# NOTE: the order of the modules in this file translates to the order of RUN lines in generated Containerfile.
#       Which means, keep the least often modified modules at the top, so the whole thing caches better.
modules:
  - from-file: base/chezmoi.yaml
  - from-file: base/files.yaml
  - from-file: base/soar.yaml
  - from-file: base/script.yaml
  - from-file: base/dnf.yaml

  # add repositories, install RPM packages
  - type: dnf
    remove:
      packages:
        - containerd
        - docker-cli
        - moby-engine
        - moby-filesystem

  # sign the image
  - type: signing
